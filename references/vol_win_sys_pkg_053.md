
## 火山"视窗项目"系统类库模块: WebSocket网络通讯支持

### 包: 火山.视窗.网络

---

#### 火山.视窗.网络.Websocket客户端类2

* **类型:** `类`
* **名称:** `Websocket客户端类2`
* **描述:** 封装HPsocket的WS客户端实现. 本类相对"Websocket客户端类"新增了以下特性: 1. 所接收到的数据内部自动组包,当接收到全部数据后再触发数据接收事件; 2. 非异步连接时等待升级协议完成; 3. "收到数据"事件增加消息类型,用作判断所接收到的数据是文本还是字节集.

##### 火山.视窗.网络.Websocket客户端类2.收到数据

* **类型:** `事件定义方法`
* **名称:** `收到数据`
* **返回值数据类型:** `整数`
* **参数:**
	* `消息类型` (`整数`): 1=文本,2=字节集
	* `数据` (`字节集类`)
* **描述:** 当接收到数据时本事件被触发,注意数据已经被自动内部组成一个完整的数据包.

##### 火山.视窗.网络.Websocket客户端类2.连接断开

* **类型:** `事件定义方法`
* **名称:** `连接断开`
* **返回值数据类型:** `整数`
* **参数:**
	* `关闭原因` (`HP操作类型`): 返回导致连接被断开的操作.
	* `错误码` (`HP错误码`): 如果客户端为非正常退出,此参数为错误代码.

##### 火山.视窗.网络.Websocket客户端类2.连接完成

* **类型:** `事件定义方法`
* **名称:** `连接完成`
* **返回值数据类型:** `整数`

##### 火山.视窗.网络.Websocket客户端类2.连接

* **类型:** `方法`
* **名称:** `连接`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `地址` (`文本型`): 例如:ws://localhost:9010/ajaxchattest
	* `附加头` (`文本数组类`, 默认值: `空对象`): 提供连接所欲使用的附加请求头,一个成员表示一组,例如:"Origin:http://0.0.0.0".
	* `异步连接` (`逻辑型`, 默认值: `真`): 指定是否以异步通知(通过事件获取连接结果,本方法不会阻塞)方式连接到服务端.
* **描述:** 向指定WS服务器发起连接请求.
* **返回值描述:** 如果"异步连接"参数为假,将返回本次连接服务器的结果,否则返回本地客户端通信组件的启动结果.

##### 火山.视窗.网络.Websocket客户端类2.发送文本

* **类型:** `方法`
* **名称:** `发送文本`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `内容` (`文本型`): 提供所欲发送的文本数据.
	* `文本编码` (`文本编码类型`, 默认值: `文本编码类型.UTF8`): 指定所提供的内容是否需要以Utf8编码提交.
* **描述:** 向服务器发送文本内容消息.
* **返回值描述:** 返回发送结果.

##### 火山.视窗.网络.Websocket客户端类2.发送数据

* **类型:** `方法`
* **名称:** `发送数据`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `数据` (`字节集类`): 提供所欲发送的数据.
* **描述:** 向服务器发送二进制内容消息.
* **返回值描述:** 返回发送结果.

##### 火山.视窗.网络.Websocket客户端类2.发送自定义消息

* **类型:** `方法`
* **名称:** `发送自定义消息`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `是否结束帧` (`逻辑型`, 默认值: `真`): 指定当前所发送的消息帧是否为结束帧.
	* `RSV` (`字节`, 默认值: `0`): 指定所欲使用的扩展位数据.
	* `操作码` (`字节`, 默认值: `2`): 指定本次消息的操作码.
	* `掩码` (`字节集类`, 默认值: `空对象`): 指定本次发送消息所使用的掩码.
	* `数据` (`字节集类`, 默认值: `空对象`): 指定本次所欲发送的数据内容.
	* `消息长度` (`整数`, 默认值: `0`): 指定本次的消息长度,为0自动计算.
* **描述:** 向服务器发送自定义消息.
* **返回值描述:** 返回发送结果.

##### 火山.视窗.网络.Websocket客户端类2.关闭

* **类型:** `方法`
* **名称:** `关闭`
* **返回值数据类型:** `逻辑型`
* **描述:** 断开当前连接并释放资源.

##### 火山.视窗.网络.Websocket客户端类2.取通信对象

* **类型:** `方法`
* **名称:** `取通信对象`
* **返回值数据类型:** `HP_HTTP客户端`
* **描述:** 获取当前Websocket连接所使用的HP通信组件对象.

##### 火山.视窗.网络.Websocket客户端类2.取SSL通信对象

* **类型:** `方法`
* **名称:** `取SSL通信对象`
* **返回值数据类型:** `HP_HTTP安全客户端类`
* **描述:** 获取当前Websocket连接所使用的HP通信组件对象.

---

#### 火山.视窗.网络.Websocket客户端类

* **类型:** `类`
* **名称:** `Websocket客户端类`
* **描述:** 封装HPsocket的WS客户端实现.
* **相关例程:** [vol-客户端-client-main](#vol-客户端-client-main)

##### 火山.视窗.网络.Websocket客户端类.收到数据

* **类型:** `事件定义方法`
* **名称:** `收到数据`
* **返回值数据类型:** `整数`
* **参数:**
	* `数据` (`字节集类`)
* **相关例程:** [vol-客户端-client-main](#vol-客户端-client-main)

##### 火山.视窗.网络.Websocket客户端类.连接断开

* **类型:** `事件定义方法`
* **名称:** `连接断开`
* **返回值数据类型:** `整数`
* **参数:**
	* `关闭原因` (`HP操作类型`): 返回导致连接被断开的操作.
	* `错误码` (`HP错误码`): 如果客户端为非正常退出,此参数为错误代码.
* **相关例程:** [vol-客户端-client-main](#vol-客户端-client-main)

##### 火山.视窗.网络.Websocket客户端类.连接完成

* **类型:** `事件定义方法`
* **名称:** `连接完成`
* **返回值数据类型:** `整数`
* **相关例程:** [vol-客户端-client-main](#vol-客户端-client-main)

##### 火山.视窗.网络.Websocket客户端类.正在解析数据头2

* **类型:** `事件定义方法`
* **名称:** `正在解析数据头2`
* **返回值数据类型:** `整数`
* **参数:**
	* `结束帧` (`逻辑型`): 是否结束帧.
	* `保留` (`字节`): RSV1/RSV2/RSV3各1位.
	* `操作码` (`字节`): 操作码:0x0 - 0xF.
	* `掩码` (`变整数`): 4字节掩码,空指针则无掩码.
	* `消息长度` (`长整数`): 消息体长度.
* **描述:** 当解析WebSocket数据包头时本事件将被触发.
* **返回值描述:** 本事件返回0则继续触发"正在解析数据头"事件,返回1则跳过"正在解析数据头"事件.

##### 火山.视窗.网络.Websocket客户端类.正在解析数据头

* **类型:** `事件定义方法`
* **名称:** `正在解析数据头`
* **返回值数据类型:** `整数`
* **描述:** 当解析WebSocket数据包头时本事件将被触发.

##### 火山.视窗.网络.Websocket客户端类.数据接收完成

* **类型:** `事件定义方法`
* **名称:** `数据接收完成`
* **返回值数据类型:** `整数`
* **描述:** WS数据接收完毕后本事件被触发

##### 火山.视窗.网络.Websocket客户端类.初始化SSL

* **类型:** `方法`
* **名称:** `初始化SSL`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `验证模式` (`HPSSL验证模式`, 默认值: `HPSSL验证模式.无验证`): 指定当前SSL验证模式.
	* `证书文件` (`文本型`, 默认值: `""`): 提供所欲使用的证书文件路径(客户端可选).
	* `私钥文件` (`文本型`, 默认值: `""`): 提供所欲使用的私钥文件路径(客户端可选).
	* `私钥密码` (`文本型`, 默认值: `""`): 提供所欲使用的私钥密码,如无密码可为空.
	* `CA证书` (`文本型`, 默认值: `""`): CA证书文件或目录(单向验证或客户端可选).
* **描述:** 如欲启用SSL,需在"连接"方法之前初始化.
* **返回值描述:** 返回SSL初始化的结果.

##### 火山.视窗.网络.Websocket客户端类.连接

* **类型:** `方法`
* **名称:** `连接`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `地址` (`文本型`): 例如:ws://localhost:9010/ajaxchattest
	* `附加头` (`文本数组类`, 默认值: `空对象`): 提供连接所欲使用的附加请求头,一个成员表示一组,例如:"Origin:http://0.0.0.0".
	* `异步连接` (`逻辑型`, 默认值: `真`): 指定是否以异步通知(通过事件获取连接结果,本方法不会阻塞)方式连接到服务端.
* **描述:** 向指定WS服务器发起连接请求.
* **返回值描述:** 如果"异步连接"参数为假,将返回本次连接服务器的结果,否则返回本地客户端通信组件的启动结果.
* **相关例程:** [vol-客户端-client-main](#vol-客户端-client-main)

##### 火山.视窗.网络.Websocket客户端类.发送文本

* **类型:** `方法`
* **名称:** `发送文本`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `内容` (`文本型`): 提供所欲发送的文本数据.
	* `UTF8编码` (`逻辑型`, 默认值: `真`): 指定所提供的内容是否需要以Utf8编码提交.
* **描述:** 向服务器发送文本内容消息.
* **返回值描述:** 返回发送结果.
* **相关例程:** [vol-客户端-client-main](#vol-客户端-client-main)

##### 火山.视窗.网络.Websocket客户端类.发送数据

* **类型:** `方法`
* **名称:** `发送数据`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `数据` (`字节集类`): 提供所欲发送的数据.
* **描述:** 向服务器发送二进制内容消息.
* **返回值描述:** 返回发送结果.

##### 火山.视窗.网络.Websocket客户端类.发送自定义消息

* **类型:** `方法`
* **名称:** `发送自定义消息`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `是否结束帧` (`逻辑型`, 默认值: `真`): 指定当前所发送的消息帧是否为结束帧.
	* `RSV` (`字节`, 默认值: `0`): 指定所欲使用的扩展位数据.
	* `操作码` (`字节`, 默认值: `2`): 指定本次消息的操作码.
	* `掩码` (`字节集类`, 默认值: `空对象`): 指定本次发送消息所使用的掩码.
	* `数据` (`字节集类`, 默认值: `空对象`): 指定本次所欲发送的数据内容.
	* `消息长度` (`整数`, 默认值: `0`): 指定本次的消息长度,为0自动计算.
* **描述:** 向服务器发送自定义消息.
* **返回值描述:** 返回发送结果.

##### 火山.视窗.网络.Websocket客户端类.关闭

* **类型:** `方法`
* **名称:** `关闭`
* **返回值数据类型:** `逻辑型`
* **描述:** 断开当前连接并释放资源.
* **相关例程:** [vol-客户端-client-main](#vol-客户端-client-main)

##### 火山.视窗.网络.Websocket客户端类.取通信对象

* **类型:** `方法`
* **名称:** `取通信对象`
* **返回值数据类型:** `HP_HTTP客户端`
* **描述:** 获取当前Websocket连接所使用的HP通信组件对象.

##### 火山.视窗.网络.Websocket客户端类.取SSL通信对象

* **类型:** `方法`
* **名称:** `取SSL通信对象`
* **返回值数据类型:** `HP_HTTP安全客户端类`
* **描述:** 获取当前Websocket连接所使用的HP通信组件对象.

---

#### 火山.视窗.网络.Websocket服务端类

* **类型:** `类`
* **名称:** `Websocket服务端类`
* **相关例程:** [vol-服务器-server-main](#vol-服务器-server-main)

##### 火山.视窗.网络.Websocket服务端类.自动心跳

* **类型:** `属性写方法`
* **名称:** `自动心跳`
* **参数:**
	* `是否启动` (`逻辑型`)
* **描述:** 启动自动心跳功能：当客户端发送ping心跳请求过来，则服务端自动回复pong心跳。

##### 火山.视窗.网络.Websocket服务端类.接收完整数据包

* **类型:** `属性写方法`
* **名称:** `接收完整数据包`
* **参数:**
	* `是否接收` (`逻辑型`, 默认值: `假`)
* **描述:** 如果为真，则用【收到WS完整数据包体】这个事件接收数据 为假则用【收到数据】这个事件接收数据，默认为假 区别在于，【收到数据】事件是分包接收的，要把每个数据连接 起来，当【数据接收完成】事件触发后所连接的包才是完整的。 【收到WS完整数据包体】事件收到的数据是一个完完整整的WS数据包。

##### 火山.视窗.网络.Websocket服务端类.客户端连接数

* **类型:** `属性读方法`
* **名称:** `客户端连接数`
* **返回值数据类型:** `整数`
* **描述:** 获取当前通信组件的连接数

##### 火山.视窗.网络.Websocket服务端类.工作线程数

* **类型:** `属性写方法`
* **名称:** `工作线程数`
* **参数:**
	* `线程数` (`整数`)
* **描述:** 设置工作线程数量(通常设置为 2 * CPU + 2).含义为: 所有连接所共用的线程数量. 注意: 请按实际情况设置,组件会根据该值预分配内存,必须在启动服务器之前调用.

##### 火山.视窗.网络.Websocket服务端类.最大连接数

* **类型:** `属性写方法`
* **名称:** `最大连接数`
* **参数:**
	* `欲设最大连接数` (`整数`)
* **描述:** 设置通信组件所设置的最大连接数.注意:请按实际情况设置,组件会根据该值预分配内存,必须在启动服务器之前调用.

##### 火山.视窗.网络.Websocket服务端类.开始握手

* **类型:** `事件定义方法`
* **名称:** `开始握手`
* **返回值数据类型:** `整数`
* **参数:**
	* `客户ID` (`变整数`)
* **描述:** 当收到客户端的握手请求时本事件被发送.

##### 火山.视窗.网络.Websocket服务端类.已关闭

* **类型:** `事件定义方法`
* **名称:** `已关闭`
* **返回值数据类型:** `整数`
* **描述:** 当服务器被关闭时本事件被发送.
* **相关例程:** [vol-服务器-server-main](#vol-服务器-server-main)

##### 火山.视窗.网络.Websocket服务端类.收到数据

* **类型:** `事件定义方法`
* **名称:** `收到数据`
* **返回值数据类型:** `整数`
* **参数:**
	* `客户ID` (`变整数`)
	* `数据` (`字节集类`)
* **描述:** 当收到客户端发送过来的数据时本事件被发送，如果数据大于 缓冲区尺寸，会分段接收，也就是一个数据会多次触发本事件 如果要直接接收完整的数据，请用【收到WS完整数据包体】事件
* **相关例程:** [vol-服务器-server-main](#vol-服务器-server-main)

##### 火山.视窗.网络.Websocket服务端类.收到WS完整数据包

* **类型:** `事件定义方法`
* **名称:** `收到WS完整数据包`
* **返回值数据类型:** `整数`
* **参数:**
	* `连接ID` (`变整数`)
	* `结束帧` (`逻辑型`): 是否结束帧
	* `保留位` (`字节`): RSV1/RSV2/RSV3各1位.
	* `操作码` (`字节`): 操作码:0x00 - 0x0F0x01：代表该数据为文本型数据0x02：代表该数据为二进制，图片、音频或压缩文件等等0x03-0x07：保留的非控制帧。 0x08：用来指示即将断开连接0x09：代表ping心跳0x0A：代表pong心跳0x0B-0x0F：保留的非控制帧。
	* `掩码` (`变整数`): 4字节掩码,空指针则无掩码.
	* `客户IP地址` (`文本型`): 客户的远程IP地址
	* `数据长度` (`长整数`): 数据体长度.
	* `数据` (`字节集类`): WebSocket接收到的完整数据体
* **描述:** 当接收完一个完整的WebSocket数据包体的时候会触发本事件. 注意: 需要把"接收完整数据包"属性设置为真才会触发本事件.

##### 火山.视窗.网络.Websocket服务端类.正在解析数据头2

* **类型:** `事件定义方法`
* **名称:** `正在解析数据头2`
* **返回值数据类型:** `整数`
* **参数:**
	* `连接ID` (`变整数`)
	* `结束帧` (`逻辑型`): 是否结束帧.
	* `保留` (`字节`): RSV1/RSV2/RSV3各1位.
	* `操作码` (`字节`): 操作码:0x0 - 0xF.
	* `掩码` (`变整数`): 4字节掩码,空指针则无掩码.
	* `消息长度` (`长整数`): 消息体长度.
* **描述:** 当解析WebSocket数据包头时本事件将被触发.
* **返回值描述:** 本事件返回0则继续触发"正在解析数据头"事件,返回1则跳过"正在解析数据头"事件.

##### 火山.视窗.网络.Websocket服务端类.正在解析数据头

* **类型:** `事件定义方法`
* **名称:** `正在解析数据头`
* **返回值数据类型:** `整数`
* **参数:**
	* `客户ID` (`变整数`)
* **描述:** 当解析WebSocket数据包头时本事件将被触发.

##### 火山.视窗.网络.Websocket服务端类.数据接收完成

* **类型:** `事件定义方法`
* **名称:** `数据接收完成`
* **返回值数据类型:** `整数`
* **参数:**
	* `客户ID` (`变整数`)
* **描述:** WS数据接收完毕后本事件被发送

##### 火山.视窗.网络.Websocket服务端类.客户进入

* **类型:** `事件定义方法`
* **名称:** `客户进入`
* **返回值数据类型:** `整数`
* **参数:**
	* `客户ID` (`变整数`)
* **描述:** 当有客户端连接成功时本事件被发送.
* **相关例程:** [vol-服务器-server-main](#vol-服务器-server-main)

##### 火山.视窗.网络.Websocket服务端类.客户离开

* **类型:** `事件定义方法`
* **名称:** `客户离开`
* **返回值数据类型:** `整数`
* **参数:**
	* `客户ID` (`变整数`): 当前已连接的客户ID.
	* `关闭原因` (`HP操作类型`): 返回导致连接被关闭的操作.
	* `错误码` (`HP错误码`): 如果客户端为非正常退出,此参数为错误代码.
* **描述:** 当有已连接的客户端断开连接时本事件被发送.
* **相关例程:** [vol-服务器-server-main](#vol-服务器-server-main)

##### 火山.视窗.网络.Websocket服务端类.数据发送完毕

* **类型:** `事件定义方法`
* **名称:** `数据发送完毕`
* **返回值数据类型:** `整数`
* **参数:**
	* `客户ID` (`变整数`): 欲接收本次数据的客户端ID.
	* `数据` (`字节集类`): 本次发送的数据内容.
* **描述:** 本服务器发送数据成功后本事件被发送.
* **相关例程:** [vol-服务器-server-main](#vol-服务器-server-main)

##### 火山.视窗.网络.Websocket服务端类.请求解析完成

* **类型:** `事件定义方法`
* **名称:** `请求解析完成`
* **返回值数据类型:** `整数`
* **参数:**
	* `连接ID` (`变整数`)
	* `当前请求方式` (`文本型`): 当前客户请求方式,例如GET或POST.
	* `当前请求地址` (`文本型`): 当前客户请求路径.为地址后面的参数.
* **描述:** 当服务器接收到客户请求后,将触发本事件,本事件将指定当前请求方式,和请求路径.例如:本机地址为192.168.0.103,WebSocket客户端连接："ws://192.168.0.103/love",本事件将解析出请求地址后面的"/love".

##### 火山.视窗.网络.Websocket服务端类.启动成功

* **类型:** `事件定义方法`
* **名称:** `启动成功`
* **返回值数据类型:** `整数`
* **描述:** 服务器端启动完毕并开始监听后,将触发本事件.
* **相关例程:** [vol-服务器-server-main](#vol-服务器-server-main)

##### 火山.视窗.网络.Websocket服务端类.启动

* **类型:** `方法`
* **名称:** `启动`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `绑定地址` (`文本型`, 默认值: `空对象`): 提供所欲绑定的地址.
	* `监听端口` (`整数`, 默认值: `80`): 提供所欲监听的端口号. 有效端口号从0到65535.
	* `是否SSL` (`逻辑型`, 默认值: `假`): 指定是否以SSL服务器方式启动.
* **描述:** 启动服务器并开始监听指定端口.
* **返回值描述:** 返回启动结果.
* **相关例程:** [vol-服务器-server-main](#vol-服务器-server-main)

##### 火山.视窗.网络.Websocket服务端类.初始化SSL

* **类型:** `方法`
* **名称:** `初始化SSL`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `验证模式` (`HPSSL验证模式`, 默认值: `HPSSL验证模式.无验证`): 指定当前SSL验证模式.
	* `证书文件` (`文本型`, 默认值: `""`): 提供所欲使用的证书文件路径(客户端可选).
	* `私钥文件` (`文本型`, 默认值: `""`): 提供所欲使用的私钥文件路径(客户端可选).
	* `私钥密码` (`文本型`, 默认值: `""`): 提供所欲使用的私钥密码,如无密码可为空.
	* `CA证书` (`文本型`, 默认值: `""`): CA证书文件或目录(单向验证或客户端可选).
* **描述:** 如欲启用SSL,需在"启动"方法之前初始化.
* **返回值描述:** 返回SSL初始化结果.

##### 火山.视窗.网络.Websocket服务端类.关闭

* **类型:** `方法`
* **名称:** `关闭`
* **返回值数据类型:** `逻辑型`
* **描述:** 断开当前服务器并释放资源.
* **相关例程:** [vol-服务器-server-main](#vol-服务器-server-main)

##### 火山.视窗.网络.Websocket服务端类.断开连接

* **类型:** `方法`
* **名称:** `断开连接`
* **参数:**
	* `连接ID` (`变整数`)
	* `强制断开` (`逻辑型`, 默认值: `假`): 是否强制断开
* **描述:** 断开指定客户的连接

##### 火山.视窗.网络.Websocket服务端类.发送心跳

* **类型:** `方法`
* **名称:** `发送心跳`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `连接ID` (`变整数`)
	* `pong心跳` (`逻辑型`, 默认值: `真`): 为真则发送pong心跳，假则发送ping心跳。
* **描述:** 发送WS协议层心跳：ping/pong
* **返回值描述:** 返回发送结果

##### 火山.视窗.网络.Websocket服务端类.取所有连接ID

* **类型:** `方法`
* **名称:** `取所有连接ID`
* **返回值数据类型:** `变整数数组类`
* **描述:** 获取当前已连接的所有连接ID

##### 火山.视窗.网络.Websocket服务端类.取连接时长

* **类型:** `方法`
* **名称:** `取连接时长`
* **返回值数据类型:** `整数`
* **参数:**
	* `连接ID` (`变整数`)
* **描述:** 获取某个客户端连接时长(毫秒).

##### 火山.视窗.网络.Websocket服务端类.发送文本

* **类型:** `方法`
* **名称:** `发送文本`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `客户ID` (`变整数`): 提供所欲接收数据的客户ID.
	* `内容` (`文本型`): 提供所欲发送的文本内容.
	* `UTF8编码` (`逻辑型`, 默认值: `真`): 指定所提供的内容是否需要以Utf8编码提交.
* **描述:** 向客户端发送文本内容消息.
* **返回值描述:** 返回发送结果.
* **相关例程:** [vol-服务器-server-main](#vol-服务器-server-main)

##### 火山.视窗.网络.Websocket服务端类.发送数据

* **类型:** `方法`
* **名称:** `发送数据`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `客户ID` (`变整数`): 提供所欲接收数据的客户ID.
	* `数据` (`字节集类`): 提供所欲发送的数据.
* **描述:** 向客户端发送二进制内容消息.
* **返回值描述:** 返回发送结果.

##### 火山.视窗.网络.Websocket服务端类.发送自定义消息

* **类型:** `方法`
* **名称:** `发送自定义消息`
* **返回值数据类型:** `逻辑型`
* **参数:**
	* `客户ID` (`变整数`): 提供所欲接收数据的客户ID.
	* `是否结束帧` (`逻辑型`, 默认值: `真`): 指定当前所发送的消息帧是否为结束帧.
	* `RSV` (`字节`, 默认值: `0`): 指定所欲使用的扩展位数据.
	* `操作码` (`字节`, 默认值: `2`): 指定本次消息的操作码.
	* `数据` (`字节集类`, 默认值: `空对象`): 指定本次所欲发送的数据内容.
	* `消息长度` (`整数`, 默认值: `0`): 指定本次的消息长度,为0自动计算.
* **描述:** 向服务器发送自定义消息.
* **返回值描述:** 返回发送结果.

##### 火山.视窗.网络.Websocket服务端类.取通信对象

* **类型:** `方法`
* **名称:** `取通信对象`
* **返回值数据类型:** `HP_HTTP服务器`
* **描述:** 获取当前Websocket连接所使用的HP通信组件对象.

##### 火山.视窗.网络.Websocket服务端类.取SSL通信对象

* **类型:** `方法`
* **名称:** `取SSL通信对象`
* **返回值数据类型:** `HP_HTTP安全服务器`
* **描述:** 获取当前Websocket连接所使用的HP通信组件对象.

---

#### 火山.视窗.网络.WebSocket_数据结构

* **类型:** `类`
* **名称:** `WebSocket_数据结构`
* **特性:**
	* `未公开`(无法在所处包外部使用,其中的内容只能通过此类的继承类对外提供)

##### 火山.视窗.网络.WebSocket_数据结构.结束帧

* **类型:** `成员变量`
* **名称:** `结束帧`
* **数据类型:** `逻辑型`

##### 火山.视窗.网络.WebSocket_数据结构.RSV

* **类型:** `成员变量`
* **名称:** `RSV`
* **数据类型:** `字节`

##### 火山.视窗.网络.WebSocket_数据结构.操作码

* **类型:** `成员变量`
* **名称:** `操作码`
* **数据类型:** `字节`

##### 火山.视窗.网络.WebSocket_数据结构.掩码

* **类型:** `成员变量`
* **名称:** `掩码`
* **数据类型:** `变整数`

##### 火山.视窗.网络.WebSocket_数据结构.消息长度

* **类型:** `成员变量`
* **名称:** `消息长度`
* **数据类型:** `长整数`

##### 火山.视窗.网络.WebSocket_数据结构.数据

* **类型:** `成员变量`
* **名称:** `数据`
* **数据类型:** `字节集类`
