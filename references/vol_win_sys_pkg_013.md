
## 火山"视窗项目"系统类库模块: JavaScript脚本支持

### 包: 火山.视窗.V8引擎

---

#### 火山.视窗.V8引擎.JS平台类

* **类型:** `类`
* **名称:** `JS平台类`
* **基础类:** `参考对象类`
* **描述:** 用作创建JS引擎
* **相关例程:** [vol-javascript脚本-v8js-main](#vol-javascript脚本-v8js-main)

##### 火山.视窗.V8引擎.JS平台类.是否已初始化

* **类型:** `方法`
* **名称:** `是否已初始化`
* **返回值数据类型:** `逻辑型`
* **特性:**
	* `静态`
* **描述:** 返回JS平台当前是否已经成功初始化. 定义本类的对象实例时将自动初始化JS平台.

##### 火山.视窗.V8引擎.JS平台类.取JS平台版本

* **类型:** `方法`
* **名称:** `取JS平台版本`
* **返回值数据类型:** `文本型`
* **特性:**
	* `静态`

##### 火山.视窗.V8引擎.JS平台类.创建JS引擎

* **类型:** `方法`
* **名称:** `创建JS引擎`
* **返回值数据类型:** `JS引擎类`
* **描述:** 创建JS引擎对象,该对象在不使用后会自动销毁.
* **返回值描述:** 如果平台尚未初始化,将返回为空的JS引擎对象.

##### 火山.视窗.V8引擎.JS平台类.执行JS脚本

* **类型:** `方法`
* **名称:** `执行JS脚本`
* **返回值数据类型:** `文本型`
* **参数:**
	* `要执行的脚本` (`文本型`): 提供要执行的JS脚本
* **描述:** 本方法可快捷执行JS脚本,自动创建JS引擎,执行JS后自动销毁引擎.
* **返回值描述:** 返回执行结果,失败将返回空文本(注意正常执行也可能返回空文本).

##### 火山.视窗.V8引擎.JS平台类.JS注册火山方法

* **类型:** `方法`
* **名称:** `JS注册火山方法`
* **参数:**
	* `方法名称` (`文本型`): 提供方法名称,需要和JS脚本中的一致.
	* `回调方法` (`JS模板方法(指定格式方法)`): 提供所对应的回调方法
* **描述:** 将JS方法和火山方法绑定,实现JS方法调用火山方法. 本方法必须在"创建JS隔离空间"方法前调用,并且想要成功使用,必须使用"执行JS隔离脚本"方法来执行脚本.

##### 火山.视窗.V8引擎.JS平台类.JS取参数数量

* **类型:** `方法`
* **名称:** `JS取参数数量`
* **返回值数据类型:** `整数`
* **参数:**
	* `参数句柄` (`变整数`): 在使用JS回调火山方法时,所需要调用的火山方法必须提供一个类型为"变整数"的参数. 本参数填写的就是这个变整数参数.
* **特性:**
	* `静态`
* **描述:** 取JS脚本方法参数数量

##### 火山.视窗.V8引擎.JS平台类.JS取参数

* **类型:** `方法`
* **名称:** `JS取参数`
* **返回值数据类型:** `文本型`
* **参数:**
	* `参数句柄` (`变整数`): 在使用JS回调火山方法时,所需要调用的火山方法必须提供一个类型为"变整数"的参数. 本参数填写的就是这个变整数参数.
	* `参数索引` (`整数`): 提供参数索引,从0开始.
* **特性:**
	* `静态`
* **描述:** 获取JS脚本方法的参数
* **返回值描述:** 返回参数内容

##### 火山.视窗.V8引擎.JS平台类.JS置返回值

* **类型:** `方法`
* **名称:** `JS置返回值`
* **参数:**
	* `参数句柄` (`变整数`): 在使用JS回调火山方法时,所需要调用的火山方法必须提供一个类型为"变整数"的参数. 本参数填写的就是这个变整数参数.
	* `返回值文本` (`文本型`): 提供要返回的文本
* **特性:**
	* `静态`
* **描述:** 本方法可将结果返回给JS脚本.

---

#### 火山.视窗.V8引擎.JS引擎类

* **类型:** `类`
* **名称:** `JS引擎类`
* **基础类:** `参考对象类`
* **描述:** 本类对象必须通过JS平台类的创建才能正常使用
* **相关例程:** [vol-javascript脚本-v8js-main](#vol-javascript脚本-v8js-main)

##### 火山.视窗.V8引擎.JS引擎类.是否为空

* **类型:** `方法`
* **名称:** `是否为空`
* **返回值数据类型:** `逻辑型`
* **描述:** 返回本对象的内容是否为空

##### 火山.视窗.V8引擎.JS引擎类.执行JS

* **类型:** `方法`
* **名称:** `执行JS`
* **返回值数据类型:** `文本型`
* **参数:**
	* `要运行的脚本` (`文本型`): 提供要运行的JS代码
* **描述:** 执行一次JS脚本,执行后的脚本不会进行保留. 例如：先运行了 function add(a,b){return a+b;},之后再执行脚本 add(1,3) 这个就会报错. 因为上次执行的脚本不会进行保留,每次执行都是唯一的.
* **返回值描述:** 返回执行结果

##### 火山.视窗.V8引擎.JS引擎类.创建JS隔离空间

* **类型:** `方法`
* **名称:** `创建JS隔离空间`
* **返回值数据类型:** `JS隔离空间类`
* **描述:** 创建隔离空间后,执行JS脚本的结果可以进行保留. 只要在同一个隔离空间内,执行了function add(ab){ return a+b;},之后合适的时机再调用"执行JS隔离脚本"执行脚本add(1+3); 此时是成立的,不会报错.
* **返回值描述:** 返回所创建的隔离空间对象,该对象在不使用后会自动销毁.

---

#### 火山.视窗.V8引擎.JS隔离空间类

* **类型:** `类`
* **名称:** `JS隔离空间类`
* **基础类:** `参考对象类`
* **描述:** 本类对象必须通过JS引擎类的创建才能正常使用
* **相关例程:** [vol-javascript脚本-v8js-main](#vol-javascript脚本-v8js-main)

##### 火山.视窗.V8引擎.JS隔离空间类.是否为空

* **类型:** `方法`
* **名称:** `是否为空`
* **返回值数据类型:** `逻辑型`
* **描述:** 返回本对象的内容是否为空

##### 火山.视窗.V8引擎.JS隔离空间类.执行JS隔离脚本

* **类型:** `方法`
* **名称:** `执行JS隔离脚本`
* **返回值数据类型:** `文本型`
* **参数:**
	* `要运行的脚本` (`文本型`): 提供要运行的JS代码
* **返回值描述:** 返回执行结果
